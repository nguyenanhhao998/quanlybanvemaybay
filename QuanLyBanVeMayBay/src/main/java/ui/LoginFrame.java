/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package ui;

import bus.TaikhoanBUS;
import com.formdev.flatlaf.FlatIntelliJLaf;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.JOptionPane;
import javax.swing.UIManager;
import javax.swing.UnsupportedLookAndFeelException;
import ui.admin.MainForAdmin;
import ui.user.MainForUser;

/**
 *
 * @author HAO
 */
public class LoginFrame extends javax.swing.JFrame {

    /**
     * Creates new form LoginFrame
     */
    public LoginFrame() {
        initComponents();
        setLocationRelativeTo(null);
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        parentPane = new javax.swing.JPanel();
        jpnThongBao = new javax.swing.JPanel();
        jlbThongBao = new javax.swing.JLabel();
        filler17 = new javax.swing.Box.Filler(new java.awt.Dimension(0, 0), new java.awt.Dimension(0, 0), new java.awt.Dimension(32767, 0));
        jPanel5 = new javax.swing.JPanel();
        filler8 = new javax.swing.Box.Filler(new java.awt.Dimension(0, 0), new java.awt.Dimension(0, 0), new java.awt.Dimension(32767, 0));
        jLabel2 = new javax.swing.JLabel();
        filler9 = new javax.swing.Box.Filler(new java.awt.Dimension(0, 0), new java.awt.Dimension(0, 0), new java.awt.Dimension(100, 0));
        jtfname = new javax.swing.JTextField();
        filler10 = new javax.swing.Box.Filler(new java.awt.Dimension(0, 0), new java.awt.Dimension(0, 0), new java.awt.Dimension(32767, 0));
        filler3 = new javax.swing.Box.Filler(new java.awt.Dimension(0, 15), new java.awt.Dimension(0, 15), new java.awt.Dimension(0, 15));
        jPanel7 = new javax.swing.JPanel();
        filler14 = new javax.swing.Box.Filler(new java.awt.Dimension(0, 0), new java.awt.Dimension(0, 0), new java.awt.Dimension(32767, 0));
        jLabel3 = new javax.swing.JLabel();
        filler15 = new javax.swing.Box.Filler(new java.awt.Dimension(0, 0), new java.awt.Dimension(0, 0), new java.awt.Dimension(100, 0));
        jtfpass = new javax.swing.JPasswordField();
        filler16 = new javax.swing.Box.Filler(new java.awt.Dimension(0, 0), new java.awt.Dimension(0, 0), new java.awt.Dimension(32767, 0));
        filler2 = new javax.swing.Box.Filler(new java.awt.Dimension(0, 15), new java.awt.Dimension(0, 15), new java.awt.Dimension(0, 15));
        jPanel6 = new javax.swing.JPanel();
        filler1 = new javax.swing.Box.Filler(new java.awt.Dimension(150, 0), new java.awt.Dimension(150, 0), new java.awt.Dimension(150, 0));
        filler11 = new javax.swing.Box.Filler(new java.awt.Dimension(0, 0), new java.awt.Dimension(0, 0), new java.awt.Dimension(32767, 0));
        submitButton = new javax.swing.JButton();
        filler13 = new javax.swing.Box.Filler(new java.awt.Dimension(0, 0), new java.awt.Dimension(0, 0), new java.awt.Dimension(32767, 0));

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setTitle("Quản Lý Bán Vé Máy Bay");
        setMaximumSize(new java.awt.Dimension(700, 400));
        setMinimumSize(new java.awt.Dimension(700, 300));
        setPreferredSize(new java.awt.Dimension(530, 320));

        parentPane.setBackground(new java.awt.Color(18, 18, 18));
        parentPane.setLayout(new javax.swing.BoxLayout(parentPane, javax.swing.BoxLayout.Y_AXIS));

        jpnThongBao.setBackground(new java.awt.Color(18, 18, 18));
        jpnThongBao.setBorder(javax.swing.BorderFactory.createEmptyBorder(20, 1, 10, 1));
        jpnThongBao.setLayout(new javax.swing.BoxLayout(jpnThongBao, javax.swing.BoxLayout.LINE_AXIS));

        jlbThongBao.setFont(new java.awt.Font("Tahoma", 1, 20)); // NOI18N
        jlbThongBao.setForeground(new java.awt.Color(255, 0, 0));
        jlbThongBao.setMaximumSize(new java.awt.Dimension(600, 35));
        jlbThongBao.setMinimumSize(new java.awt.Dimension(600, 35));
        jlbThongBao.setPreferredSize(new java.awt.Dimension(600, 35));
        jpnThongBao.add(jlbThongBao);
        jpnThongBao.add(filler17);

        parentPane.add(jpnThongBao);

        jPanel5.setBackground(new java.awt.Color(18, 18, 18));
        jPanel5.setLayout(new javax.swing.BoxLayout(jPanel5, javax.swing.BoxLayout.LINE_AXIS));
        jPanel5.add(filler8);

        jLabel2.setFont(new java.awt.Font("Tahoma", 1, 20)); // NOI18N
        jLabel2.setForeground(new java.awt.Color(255, 255, 255));
        jLabel2.setText("Username: ");
        jLabel2.setMaximumSize(new java.awt.Dimension(150, 25));
        jLabel2.setMinimumSize(new java.awt.Dimension(150, 25));
        jLabel2.setPreferredSize(new java.awt.Dimension(150, 25));
        jPanel5.add(jLabel2);
        jPanel5.add(filler9);

        jtfname.setBackground(new java.awt.Color(0, 0, 0));
        jtfname.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        jtfname.setForeground(new java.awt.Color(255, 255, 255));
        jtfname.setMaximumSize(new java.awt.Dimension(500, 60));
        jtfname.setMinimumSize(new java.awt.Dimension(500, 60));
        jtfname.setPreferredSize(new java.awt.Dimension(500, 60));
        jPanel5.add(jtfname);
        jPanel5.add(filler10);

        parentPane.add(jPanel5);
        parentPane.add(filler3);

        jPanel7.setBackground(new java.awt.Color(18, 18, 18));
        jPanel7.setLayout(new javax.swing.BoxLayout(jPanel7, javax.swing.BoxLayout.LINE_AXIS));
        jPanel7.add(filler14);

        jLabel3.setFont(new java.awt.Font("Tahoma", 1, 20)); // NOI18N
        jLabel3.setForeground(new java.awt.Color(255, 255, 255));
        jLabel3.setText("Password: ");
        jLabel3.setMaximumSize(new java.awt.Dimension(150, 25));
        jLabel3.setMinimumSize(new java.awt.Dimension(150, 25));
        jLabel3.setPreferredSize(new java.awt.Dimension(150, 25));
        jPanel7.add(jLabel3);
        jPanel7.add(filler15);

        jtfpass.setBackground(new java.awt.Color(0, 0, 0));
        jtfpass.setFont(new java.awt.Font("Tahoma", 0, 20)); // NOI18N
        jtfpass.setForeground(new java.awt.Color(255, 255, 255));
        jtfpass.setMaximumSize(new java.awt.Dimension(500, 60));
        jtfpass.setMinimumSize(new java.awt.Dimension(500, 60));
        jtfpass.setPreferredSize(new java.awt.Dimension(500, 60));
        jPanel7.add(jtfpass);
        jPanel7.add(filler16);

        parentPane.add(jPanel7);
        parentPane.add(filler2);

        jPanel6.setBackground(new java.awt.Color(18, 18, 18));
        jPanel6.setLayout(new javax.swing.BoxLayout(jPanel6, javax.swing.BoxLayout.LINE_AXIS));
        jPanel6.add(filler1);
        jPanel6.add(filler11);

        submitButton.setBackground(new java.awt.Color(255, 150, 8));
        submitButton.setFont(new java.awt.Font("Tahoma", 1, 20)); // NOI18N
        submitButton.setForeground(new java.awt.Color(255, 255, 255));
        submitButton.setText("Đăng nhập");
        submitButton.setMaximumSize(new java.awt.Dimension(200, 40));
        submitButton.setMinimumSize(new java.awt.Dimension(200, 40));
        submitButton.setPreferredSize(new java.awt.Dimension(200, 40));
        submitButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                submitButtonActionPerformed(evt);
            }
        });
        jPanel6.add(submitButton);
        jPanel6.add(filler13);

        parentPane.add(jPanel6);

        getContentPane().add(parentPane, java.awt.BorderLayout.CENTER);

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void submitButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_submitButtonActionPerformed
        String name = jtfname.getText();
        String pass = String.valueOf(jtfpass.getPassword());
        
        if(name.isEmpty() || pass.isEmpty()){
            jlbThongBao.setText("Bạn phải điền đầy đủ thông tin tài khoản");
            return;
        }
        
        switch(TaikhoanBUS.login(name, pass)){
            case "admin":
                this.dispose();//setVisible(false//tắt dialog
                MainForAdmin.getInstance().runFrame();
                break;
            case "nvbanve":
                this.dispose();//setVisible(false//tắt dialog
                MainForUser.getInstance().runFrame();
                break;
            case "disable":
                jlbThongBao.setText("Tài khoản đã bị vô hiệu hóa");
                break;
            default:
                jlbThongBao.setText("Sai tên đăng nhập hoặc mật khẩu");
                return;
        }
    }//GEN-LAST:event_submitButtonActionPerformed

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.Box.Filler filler1;
    private javax.swing.Box.Filler filler10;
    private javax.swing.Box.Filler filler11;
    private javax.swing.Box.Filler filler13;
    private javax.swing.Box.Filler filler14;
    private javax.swing.Box.Filler filler15;
    private javax.swing.Box.Filler filler16;
    private javax.swing.Box.Filler filler17;
    private javax.swing.Box.Filler filler2;
    private javax.swing.Box.Filler filler3;
    private javax.swing.Box.Filler filler8;
    private javax.swing.Box.Filler filler9;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JPanel jPanel5;
    private javax.swing.JPanel jPanel6;
    private javax.swing.JPanel jPanel7;
    private javax.swing.JLabel jlbThongBao;
    private javax.swing.JPanel jpnThongBao;
    private javax.swing.JTextField jtfname;
    private javax.swing.JPasswordField jtfpass;
    private javax.swing.JPanel parentPane;
    private javax.swing.JButton submitButton;
    // End of variables declaration//GEN-END:variables
}
